<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>EmpireBet Tips</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root {
            --primary: #00e676;
            --accent: #ffea00;
            --danger: #ff5252;
            --card-bg: #191c22;
            --frame-bg: #21242b;
            --text-main: #f1f1f1;
            --text-muted: #b0b6c1;
            --btn-bg: #00e676;
            --btn-txt: #191c22;
        }
        html, body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Arial, sans-serif;
            background: #111317;
            min-height: 100vh;
            color: var(--text-main);
        }
        #main-content {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        #loader-container, #note, #pin-input-section, #profile-section, #tips-frame-overlay, #access-denied {
            display: none;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        #loader-container {
            position: fixed;
            top: 0; left: 0; width: 100vw; height: 100vh;
            background: rgba(10,12,18,0.97);
            z-index: 10000;
        }
        .empire-loader {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            border: 8px solid #21242b;
            border-top: 8px solid var(--primary);
            box-sizing: border-box;
            margin: 20px auto;
            animation: spin 1s linear infinite;
            background: url('AddText_07-29-05.39.03.png') center center/cover no-repeat;
        }
        @keyframes spin {
            0% { transform: rotate(0deg);}
            100% { transform: rotate(360deg);}
        }
        #note {
            margin-top: 10px;
            font-size: 1.2rem;
            color: var(--accent);
            text-align: center;
            background: #181b23;
            border: 1px solid #383b44;
            border-radius: 8px;
            padding: 16px;
            max-width: 95vw;
            font-weight: 500;
            box-shadow: 0 2px 10px #0008;
        }
        #pin-input-section {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 32px 18px 28px 18px;
            box-shadow: 0 2px 24px #0007;
            text-align: center;
            margin-top: 18vh;
            min-width: 270px;
        }
        #pin-input-section label {
            display: block;
            margin-bottom: 12px;
            font-size: 1.13rem;
            color: var(--text-muted);
        }
        #pin-input-section input[type="tel"] {
            padding: 10px 12px;
            font-size: 1.24rem;
            border: 1.5px solid #30333b;
            background: #23242d;
            color: var(--text-main);
            border-radius: 6px;
            margin-bottom: 14px;
            width: 110px;
            display: block;
            margin-left: auto;
            margin-right: auto;
            outline: none;
            letter-spacing: 8px;
            text-align: center;
            transition: border 0.2s;
        }
        #pin-input-section input[type="tel"]:focus {
            border: 1.5px solid var(--primary);
        }
        #pin-input-section button {
            background: var(--btn-bg);
            color: var(--btn-txt);
            border: none;
            border-radius: 6px;
            padding: 12px 28px;
            font-size: 1.07rem;
            font-weight: 600;
            cursor: pointer;
            margin-top: 4px;
            transition: background 0.2s;
        }
        #pin-input-section button:hover {
            background: #18ff96;
        }
        #pin-input-section .error {
            color: var(--danger);
            margin-top: 10px;
            font-size: 1.03rem;
            font-weight: 500;
        }
        #profile-section {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 32px 14vw 28px 14vw;
            box-shadow: 0 2px 24px #0007;
            text-align: center;
            margin-top: 8vh;
            max-width: 410px;
            min-width: 260px;
        }
        #profile-section h2 {
            margin-top: 0;
            color: var(--primary);
            letter-spacing: 0.5px;
            font-size: 2rem;
        }
        #profile-section .profile-data {
            margin: 22px 0;
        }
        .profile-label {
            color: var(--text-muted);
        }
        #profile-section .expire-note {
            color: var(--danger);
            font-weight: 600;
            margin-top: 12px;
            font-size: 1.15rem;
        }
        #profile-section .renew-btn {
            margin-top: 17px;
            background: var(--accent);
            color: #181b23;
            border: none;
            border-radius: 6px;
            padding: 11px 26px;
            font-size: 1.05rem;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
        }
        #profile-section .renew-btn:hover,
        #access-denied .renew-btn:hover {
            background: #fff700;
        }
        #profile-section .renew-info {
            font-size: .98rem;
            margin-top: 10px;
            color: var(--text-muted);
        }
        #profile-section .generate-btn {
            margin-top: 20px;
            background: var(--btn-bg);
            color: var(--btn-txt);
            border: none;
            border-radius: 6px;
            padding: 12px 26px;
            font-size: 1.12rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
        }
        #profile-section .generate-btn:hover {
            background: #19ff94;
        }
        #profile-section .expires-label {
            color: var(--text-muted);
            font-size: 0.97rem;
        }
        #access-denied {
            margin-top: 15vh;
            font-size: 1.21rem;
            color: var(--danger);
            background: #1b1e27;
            border: 1.5px solid #ff525233;
            border-radius: 12px;
            padding: 30px 8vw 24px 8vw;
            max-width: 400px;
            text-align: center;
            font-weight: 500;
            box-shadow: 0 2px 12px #0004;
        }
        #access-denied .renew-btn {
            margin-top: 18px;
            background: var(--accent);
            color: #181b23;
            border: none;
            border-radius: 6px;
            padding: 11px 26px;
            font-size: 1.07rem;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
        }
        #tips-frame-overlay {
            position: fixed;
            top: 0; left: 0; width: 100vw; height: 100vh;
            background: rgba(10,12,18,0.78);
            z-index: 10001;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        #tips-frame {
            background: var(--frame-bg);
            border-radius: 16px;
            width: 96vw;
            max-width: 430px;
            height: 69vh;
            min-height: 340px;
            box-shadow: 0 8px 36px #0008;
            padding: 0;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: relative;
            border: 2.5px solid var(--primary);
        }
        #tips-frame-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #0e1710;
            color: var(--primary);
            padding: 12px 22px;
            font-weight: 600;
            font-size: 1.09rem;
            letter-spacing: 0.5px;
        }
        #tips-frame-header .close-btn {
            background: none;
            border: none;
            font-size: 1.6rem;
            color: var(--primary);
            cursor: pointer;
            font-weight: bold;
            transition: color 0.2s;
        }
        #tips-frame-header .close-btn:hover {
            color: var(--danger);
        }
        #tips-frame-content {
            flex: 1;
            padding: 16px 22px 16px 22px;
            overflow-y: auto;
        }
        .betting-tips-list {
            font-size: 1.12rem;
            margin-bottom: 10px;
            padding-left: 0;
            list-style: none;
        }
        .betting-tips-list li {
            margin-bottom: 10px;
            background: #1d211c;
            padding: 10px 12px;
            border-radius: 7px;
            font-weight: 500;
            box-shadow: 0 1px 5px #0004;
        }
        .game-league {
            color: var(--primary);
            font-weight: 600;
            font-size: 1.08rem;
        }
        .game-match {
            margin-left: 6px;
        }
        .game-time {
            color: #6fffd6;
            font-size: 0.98rem;
            margin-left: 7px;
            font-weight: 500;
        }
        .pick-label {
            color: var(--accent);
            font-weight: 600;
        }
        .tip-date {
            color: var(--accent);
            font-weight: 600;
        }
        .booking-section {
            display: flex;
            align-items: center;
            margin-top: 18px;
            gap: 10px;
            flex-wrap: wrap;
        }
        .booking-code-label {
            color: #ffe066;
            font-weight: 700;
            text-transform: uppercase;
            font-size: 1.07rem;
            letter-spacing: 0.5px;
            margin-right: 8px;
        }
        .booking-code-box {
            background: #202d24;
            color: #ffe066;
            border-radius: 7px;
            padding: 8px 16px;
            font-size: 1.1rem;
            font-weight: 600;
            letter-spacing: 1.3px;
            box-shadow: 0 2px 8px #0003;
            user-select: none;
            -webkit-user-select: none;
            pointer-events: none; /* disables copy */
            position: relative;
            margin-right: 4px;
        }
        .booking-actions {
            display: flex;
            align-items: center;
        }
        .copy-link-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-left: 5px;
            cursor: pointer;
            color: var(--accent);
            background: #232d1e;
            border-radius: 50%;
            font-size: 1.36rem;
            width: 32px;
            height: 32px;
            transition: background 0.16s, color 0.16s;
            text-decoration: none;
            border: 2px solid var(--primary);
        }
        .copy-link-icon:hover {
            background: var(--primary);
            color: #161b12;
            border-color: #fff700;
        }
        @media (max-width: 600px) {
            #profile-section, #access-denied {
                padding: 16px 2vw;
                min-width: unset;
            }
            #tips-frame {
                width: 99vw;
                max-width: 100vw;
                height: 74vh;
                padding: 0 0.5vw;
            }
            #renew-msg-box {
                padding: 22px 8vw 20px 8vw;
            }
            .booking-section {
                flex-direction: column;
                align-items: stretch;
                gap: 7px;
            }
        }
        #renew-msg-modal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100vw; height: 100vh;
            background: rgba(10,12,18,0.86);
            z-index: 20000;
            align-items: center;
            justify-content: center;
        }
        #renew-msg-box {
            background: #191c22;
            border-radius: 14px;
            color: var(--text-main);
            box-shadow: 0 4px 32px #0009;
            padding: 34px 26px 28px 26px;
            text-align: center;
            max-width: 90vw;
            min-width: 250px;
            font-size: 1.18rem;
            border: 2px solid var(--primary);
        }
        #renew-msg-box .modal-btn {
            margin-top: 22px;
            background: var(--btn-bg);
            color: var(--btn-txt);
            border: none;
            border-radius: 6px;
            padding: 11px 28px;
            font-size: 1.04rem;
            font-weight: 600;
            cursor: pointer;
        }
        #renew-msg-box .modal-btn:hover {
            background: #18ff96;
        }
        #internal-loader {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100vw; height: 100vh;
            background: rgba(10,12,18,0.94);
            z-index: 10300;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        #internal-loader-note {
            margin-top: 18px;
            font-size: 1.17rem;
            color: var(--accent);
        }
    </style>
</head>
<body>
<div id="main-content">
    <!-- Loader -->
    <div id="loader-container">
        <div class="empire-loader"></div>
        <div id="note">EmpireBet, your trusted guide for Football Betting Tips.</div>
    </div>
    <!-- PIN Input -->
    <div id="pin-input-section">
        <form id="pin-form" autocomplete="off">
            <label for="pin">Enter your 4-digit PIN to proceed:</label>
            <input type="tel" inputmode="numeric" pattern="[0-9]{4}" maxlength="4" minlength="4" id="pin" required placeholder="PIN" autocomplete="one-time-code">
            <br>
            <button type="submit">Login</button>
            <div class="error" id="pin-error"></div>
        </form>
    </div>
    <!-- Profile Section -->
    <div id="profile-section">
        <h2>EmpireBet Profile</h2>
        <div class="profile-data">
            <div><span class="profile-label">PIN:</span> <span id="profile-pin"></span></div>
            <div><span class="profile-label">Ticket ID:</span> <span id="profile-ticket"></span></div>
            <div>
                <span class="expires-label">Ticket Expires:</span> <span id="profile-expiry"></span>
            </div>
        </div>
        <div id="profile-expired" style="display:none;">
            <div class="expire-note">Your Ticket has expired!</div>
            <div class="renew-info">Renew now to continue enjoying betting tips.</div>
            <a href="#" class="renew-btn" id="renew-btn-profile">Renew Ticket</a>
        </div>
        <button class="generate-btn" id="generate-tips-btn" style="display:none;">Generate Betting Tips</button>
    </div>
    <!-- Access Denied -->
    <div id="access-denied">
        <div>
            Access Denied.<br>
            Your Ticket has expired.<br>
            Please renew your Ticket to continue accessing this month's betting tips.
        </div>
        <a href="#" class="renew-btn" id="renew-btn-denied">Renew Ticket</a>
    </div>
</div>
<!-- Tips Frame Overlay -->
<div id="tips-frame-overlay">
    <div id="tips-frame">
        <div id="tips-frame-header">
            <span>Betting Tips</span>
            <button class="close-btn" id="close-tips-frame">&times;</button>
        </div>
        <div id="tips-frame-content">
            <!-- Tips will be inserted here -->
        </div>
    </div>
</div>
<!-- Loader for internal actions -->
<div id="internal-loader">
    <div class="empire-loader"></div>
    <div id="internal-loader-note"></div>
</div>
<!-- Renew Modal -->
<div id="renew-msg-modal">
    <div id="renew-msg-box">
        <div id="renew-msg-text"></div>
        <button class="modal-btn" id="renew-modal-btn">Proceed</button>
    </div>
</div>
<script>
    // === CONFIGURATION ===
    const LOADER_IMAGE_URL = 'AddText_07-29-05.39.03.png'; // Loader image url
    // Allowed users - 4 digit PINs only
    const USERS = {
        // pin: { ticketId, expiry: Date String (ISO, at 00:00 of expiration date), renewLink }
        '3572': {
            ticketId: 'BOT85-August-2025',
            expiry: '2025-08-30T00:00:00',
            renewLink: 'https://paystack.com/pay/empire-renew'
        },
        '2016': {
            ticketId: 'BOT50-August-2025',
            expiry: '2025-10-01T00:00:00',
            renewLink: 'https://paystack.com/pay/empire-renew'
        },
        '3921': {
            ticketId: 'BOT54-August-2025',
            expiry: '2025-08-07T00:00:00',
            renewLink: 'https://paystack.com/pay/empire-renew'
        }
    };

    // --- SPORTYBET BOOKING CODE & LINK (edit as needed) ---
    const SPORTYBET_BOOKING_CODE = "5A7B8C9"; // Change to your actual booking code
    const SPORTYBET_URL = "https://www.sportybet.com/ng/sportybook/";

    // ===============

    // Set loader image everywhere
    document.querySelectorAll('.empire-loader').forEach(el => {
        el.style.backgroundImage = `url('${LOADER_IMAGE_URL}')`;
    });

    // Show loader when page loads
    document.getElementById('loader-container').style.display = 'flex';
    document.getElementById('note').style.display = 'block';

    // Hide everything else
    hideAllExcept('loader-container');

    setTimeout(() => {
        hideAllExcept('pin-input-section');
    }, 6000);

    // PIN Login logic
    let loggedInPin = null;
    document.getElementById('pin-form').onsubmit = function(e) {
        e.preventDefault();
        const pinInput = document.getElementById('pin');
        const pin = pinInput.value.trim();
        // Validate: must be 4 digit numeric
        if (!/^\d{4}$/.test(pin)) {
            document.getElementById('pin-error').innerText = 'PIN must be 4 digits.';
            pinInput.focus();
            return;
        }
        if (!USERS[pin]) {
            document.getElementById('pin-error').innerText = 'Invalid PIN. Please try again.';
            pinInput.focus();
            return;
        }
        document.getElementById('pin-error').innerText = '';
        showInternalLoader('Logging in...');
        setTimeout(() => {
            hideInternalLoader();
            loggedInPin = pin;
            if (isExpiredAtMidnight(USERS[pin].expiry)) {
                showAccessDenied(pin);
            } else {
                showProfile(pin);
            }
        }, 2200);
    };

    function showProfile(pin) {
        hideAllExcept('profile-section');
        document.getElementById('profile-pin').innerText = pin;
        document.getElementById('profile-ticket').innerText = USERS[pin].ticketId;
        document.getElementById('profile-expiry').innerText = formatDate(USERS[pin].expiry);

        const expired = isExpiredAtMidnight(USERS[pin].expiry);
        document.getElementById('profile-expired').style.display = expired ? 'block' : 'none';
        document.getElementById('generate-tips-btn').style.display = expired ? 'none' : 'inline-block';

        document.getElementById('renew-btn-profile').onclick = function(e) {
            e.preventDefault();
            showRenewModal(USERS[pin].renewLink);
        };
    }

    function showAccessDenied(pin) {
        hideAllExcept('access-denied');
        document.getElementById('renew-btn-denied').onclick = function(e) {
            e.preventDefault();
            showRenewModal(USERS[pin].renewLink);
        };
    }

    function showRenewModal(renewLink) {
        document.getElementById('renew-msg-text').innerText = "Please fill in your correct details.";
        document.getElementById('renew-msg-modal').style.display = 'flex';
        document.getElementById('renew-modal-btn').onclick = function() {
            document.getElementById('renew-msg-modal').style.display = 'none';
            window.location.href = renewLink;
        };
    }

    document.getElementById('generate-tips-btn').onclick = function() {
        showInternalLoader('Generating Tips...');
        setTimeout(() => {
            hideInternalLoader();
            showTipsFrame();
        }, 6000);
    };

    document.getElementById('tips-frame-overlay').style.display = 'none';
    document.getElementById('close-tips-frame').onclick = function() {
        document.getElementById('tips-frame-overlay').style.display = 'none';
    };

    function showTipsFrame() {
        document.getElementById('tips-frame-content').innerHTML = getBettingTipsHtml();
        document.getElementById('tips-frame-overlay').style.display = 'flex';
        // Attach copy & go handler for booking code icon
        const copyIcon = document.getElementById('copy-booking-code-icon');
        if (copyIcon) {
            copyIcon.onclick = function(e) {
                e.preventDefault();
                copyBookingCodeAndOpenSportybet();
            };
        }
    }

    function hideAllExcept(id) {
        ['loader-container', 'pin-input-section', 'profile-section', 'access-denied'].forEach(function(sec) {
            document.getElementById(sec).style.display = (sec === id) ? ((id === 'loader-container') ? 'flex' : 'block') : 'none';
        });
        document.getElementById('tips-frame-overlay').style.display = 'none';
        document.getElementById('internal-loader').style.display = 'none';
        document.getElementById('renew-msg-modal').style.display = 'none';
    }

    function showInternalLoader(note) {
        document.getElementById('internal-loader-note').innerText = note || '';
        document.getElementById('internal-loader').style.display = 'flex';
        document.getElementById('main-content').style.opacity = 0.4;
    }
    function hideInternalLoader() {
        document.getElementById('internal-loader').style.display = 'none';
        document.getElementById('main-content').style.opacity = 1;
    }

    function formatDate(iso) {
        const d = new Date(iso);
        const dd = String(d.getDate()).padStart(2, '0');
        const mm = String(d.getMonth() + 1).padStart(2, '0');
        const yyyy = d.getFullYear();
        return `${dd}-${mm}-${yyyy}`;
    }
    function isExpiredAtMidnight(iso) {
        const now = new Date();
        const expDate = new Date(iso);
        return now >= expDate;
    }

    // Copy booking code and go to Sportybet
    function copyBookingCodeAndOpenSportybet() {
        if (navigator && navigator.clipboard) {
            navigator.clipboard.writeText(SPORTYBET_BOOKING_CODE).then(function() {
                window.open(SPORTYBET_URL, "_blank");
            }, function(err) {
                alert("Copy failed, please copy manually: " + SPORTYBET_BOOKING_CODE);
                window.open(SPORTYBET_URL, "_blank");
            });
        } else {
            // Fallback old browsers
            const tempInput = document.createElement("input");
            tempInput.style.position = "absolute";
            tempInput.style.opacity = "0";
            tempInput.value = SPORTYBET_BOOKING_CODE;
            document.body.appendChild(tempInput);
            tempInput.select();
            try {
                document.execCommand('copy');
                window.open(SPORTYBET_URL, "_blank");
            } catch (err) {
                alert("Copy failed, please copy manually: " + SPORTYBET_BOOKING_CODE);
                window.open(SPORTYBET_URL, "_blank");
            }
            document.body.removeChild(tempInput);
        }
    }

    // Betting Tips HTML & Layout with times and booking code section
    function getBettingTipsHtml() {
        const matches = [
            {
                league: "üèüÔ∏è Brazil - Serie C",
                games: [
                    { teams: "Tombense üÜö Caxias", pick: "X2", time: "20:00" }
                ]
            },
            {
                league: "üèüÔ∏è Czech Republic - FNL",
                games: [
                    { teams: "Ustinad Labern üÜö Lisen", pick: "1X", time: "18:30" }
                ]
            },
            {
                league: "üèüÔ∏è Indonesia - Liga 1",
                games: [
                    { teams: "PSBS Biak üÜö Pusamania Borneo", pick: "X2", time: "14:00" },
                    { teams: "Persijap üÜö Persis Bandung", pick: "X2", time: "16:30" }
                ]
            },
            {
                league: "üèüÔ∏è Portugal - Campeonato de Portugal",
                games: [
                    { teams: "Tirsense üÜö Vianense", pick: "1X", time: "21:15" }
                ]
            },
            {
                league: "üèüÔ∏è Faroe Island - Meistaradeildlin",
                games: [
                    { teams: "B 36 Torshavn üÜö KI Klaksvik", pick: "X2", time: "19:00" }
                ]
            },
            {
                league: "üèüÔ∏è Russia - First League",
                games: [
                    { teams: "Torpedo Moskva üÜö Ural", pick: "X2", time: "17:45" }
                ]
            }
        ];

        const now = new Date();
        const dd = String(now.getDate()).padStart(2, '0');
        const mm = String(now.getMonth() + 1).padStart(2, '0');
        const yyyy = now.getFullYear();
        const displayDate = `${dd}-${mm}-${yyyy}`;

        let html = `
            <div style="font-weight:600;font-size:1.07rem;margin-bottom:12px;">
                <span class="tip-date">Betting Tips for üóìÔ∏è ${displayDate}</span>
            </div>
            <ul class="betting-tips-list">
        `;
        matches.forEach(match => {
            html += `<li>
                <div class="game-league">${match.league}</div>`;
            match.games.forEach(game => {
                html += `<div class="game-match">${game.teams}
                    <span class="pick-label">Pick: ${game.pick}</span>
                    <span class="game-time">Kickoff: ${game.time}</span>
                </div>`;
            });
            html += `</li>`;
        });
        html += `</ul>
            <div class="booking-section">
                <span class="booking-code-label">Sportybet code:</span>
                <div class="booking-actions">
                    <span class="booking-code-box" id="booking-code-box" title="Sportybet code cannot be copied manually">${SPORTYBET_BOOKING_CODE}</span>
                    <a href="#" id="copy-booking-code-icon" class="copy-link-icon" title="Copy &amp; Go to SportyBet" tabindex="0" aria-label="Copy Booking Code and Open">
                        <!-- Copy SVG icon -->
                        <svg width="20" height="20" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true" style="display:inline;vertical-align:middle;">
                            <path d="M6 2a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-1h1v2a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h2V2H6zm3 0v2h5a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h2zm0 2h5a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1z"></path>
                        </svg>
                    </a>
                </div>
            </div>
            <div style="font-size:0.97rem;color:#ffe066;margin-top:6px;">
                <em>TOTAL ODD is 4.10. Games are Uploaded By ‚è±Ô∏è 06:00 AM</em>
            </div>
        `;
        return html;
    }

    window.onpopstate = function() {
        hideInternalLoader();
        hideAllExcept('pin-input-section');
    };

    setInterval(() => {
        if (loggedInPin && USERS[loggedInPin] && isExpiredAtMidnight(USERS[loggedInPin].expiry)) {
            showAccessDenied(loggedInPin);
        }
    }, 15000);

    // Only allow number input and prevent non-numeric input
    document.getElementById('pin').addEventListener('input', function(e) {
        this.value = this.value.replace(/[^0-9]/g,'').slice(0,4);
    });
</script>
</body>
</html>
